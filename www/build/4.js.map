{"version":3,"sources":["../../src/pages/settings/settings.module.ts","../../src/pages/settings/settings.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { SettingsPage } from './settings';\n\n@NgModule({\n  declarations: [\n    SettingsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SettingsPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    SettingsPage\n  ]\n})\nexport class SettingsPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.module.ts","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\n\nimport { Settings } from '../../providers/providers';\nimport { AngularFireAuth } from 'angularfire2/auth';\n// import { AuthServiceProvider } from '../../providers/auth-service/auth-service';\n\n/**\n * The Settings page is a simple form that syncs with a Settings provider\n * to enable the user to customize settings for the app.\n *\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\nexport class SettingsPage {\n  // Our local settings object\n  options: any;\n\n  settingsReady = false;\n\n  form: FormGroup;\n\n  profileSettings = {\n    page: 'profile',\n    pageTitleKey: 'SETTINGS_PAGE_PROFILE'\n  };\n\n  page: string = 'main';\n  pageTitleKey: string = 'SETTINGS_TITLE';\n  pageTitle: string;\n\n  subSettings: any = SettingsPage;\n  user : any;\n\n  constructor(public navCtrl: NavController,\n    public settings: Settings,\n    public formBuilder: FormBuilder,\n    public navParams: NavParams,\n    public translate: TranslateService,\n    private afAuth: AngularFireAuth,\n    // private authService: AuthServiceProvider,\n    public toastCtrl: ToastController) {\n      if(JSON.parse(localStorage.getItem('currentUser')) != null){\n        this.user = JSON.parse(localStorage.getItem('currentUser'));\n      }\n  }\n\n  _buildForm() {\n    let group: any = {\n      option1: [this.options.option1],\n      option2: [this.options.option2],\n      option3: [this.options.option3]\n    };\n\n    switch (this.page) {\n      case 'main':\n        break;\n      case 'profile':\n        group = {\n          name: [this.user.displayName],\n          // email: [this.user.email],\n          // contact: [this.user.phoneNumber],\n          photoURL: [this.user.photoURL]\n        };\n        break;\n    }\n    this.form = this.formBuilder.group(group);\n\n    // Watch the form for changes, and\n    this.form.valueChanges.subscribe((v) => {\n      this.settings.merge(this.form.value);\n    });\n  }\n\n  ionViewDidLoad() {\n    // Build an empty form for the template to render\n    this.form = this.formBuilder.group({});\n  }\n\n  ionViewWillEnter() {\n    // Build an empty form for the template to render\n    this.form = this.formBuilder.group({});\n\n    this.page = this.navParams.get('page') || this.page;\n    this.pageTitleKey = this.navParams.get('pageTitleKey') || this.pageTitleKey;\n\n    this.translate.get(this.pageTitleKey).subscribe((res) => {\n      this.pageTitle = res;\n    })\n\n    this.settings.load().then(() => {\n      this.settingsReady = true;\n      this.options = this.settings.allSettings;\n\n      this._buildForm();\n    });\n  }\n\n  ngOnChanges() {\n    console.log('Ng All Changes');\n  }\n\n  updateProfile() {\n    var user = this.afAuth.auth.currentUser;\n\n    user.updateProfile({\n      displayName: this.form.value.name,\n      photoURL: this.form.value.photoURL\n    }).then(function() {\n      // Update successful.\n      console.log('Update successful');\n      // var userResult = this.afAuth.auth.currentUser;\n      // if(userResult) {\n      //   this.authService.setUserCredentials(userResult);\n      // }\n      // this.page = 'main';\n      let toast = this.toastCtrl.create({\n        message: 'Data Updated Successfully.',\n        duration: 3000,\n        position: 'top'\n      });\n      toast.present();\n      this.navCtrl.pop();\n    }).catch(function(error) {\n      // An error happened.\n      console.log('Error in Update!', error);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts"],"sourceRoot":""}